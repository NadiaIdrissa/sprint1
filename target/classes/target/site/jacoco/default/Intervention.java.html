<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Intervention.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">sprint1</a> &gt; <a href="index.source.html" class="el_package">default</a> &gt; <span class="el_source">Intervention.java</span></div><h1>Intervention.java</h1><pre class="source lang-java linenums">import com.google.gson.JsonArray;
import com.google.gson.JsonParser;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

/**
 * La classe intervention modelise les interventions policieres. Chaque intervention policiere peut etre
 * identifiee par une date,une heure,une description,le parc et l'arrondissement ou s est passe celle-ci.
 */
public class Intervention {
    private String date;
    private String heure;
    private String description;
    private String parc;
    private String arrondissement;
    private BufferedReader bufferedReaderArrondissement;
    private BufferedReader bufferedReaderDescription;


    public String getDate() {
<span class="nc" id="L25">        return date;</span>
    }

    public String getHeure() {
<span class="nc" id="L29">        return heure;</span>
    }

    public String getParc() {
<span class="fc" id="L33">        return parc;</span>
    }

    public String getArrondissement() {
<span class="fc" id="L37">        return arrondissement;</span>
    }

    public String getDescription() {
<span class="nc" id="L41">        return description;</span>
    }
    
<span class="fc" id="L44">    public Intervention(){</span>

<span class="fc" id="L46">    }</span>
<span class="fc" id="L47">    public Intervention( String date,String heure,String parc,String arrondissement,String description){</span>
<span class="fc" id="L48">        this.date=date;</span>
<span class="fc" id="L49">        this.heure=heure;</span>
<span class="fc" id="L50">        this.parc=parc;</span>
<span class="fc" id="L51">        this.arrondissement=arrondissement;</span>
<span class="fc" id="L52">        this.description=description;</span>

<span class="fc" id="L54">    }</span>

    public static boolean validerArrondissement(String arrondissement){
<span class="fc" id="L57">        List&lt;String&gt; listeArrondissement = chargementArrondissementJSON();</span>
<span class="fc" id="L58">        return listeArrondissement.contains(arrondissement);</span>
    }

    /**
     * Cette methode retourne
     * @param description
     * @return vrai si la liste des types d'interventions contient la l'intevertion(la description)
     */
    public static boolean validerDescription(String description){
<span class="fc" id="L67">        List&lt;String&gt; listeDescription = chargementDescriptionJSON();</span>

        // si la liste description n'est pas charger
<span class="pc bpc" id="L70" title="1 of 2 branches missed.">        if(listeDescription == null){</span>
<span class="nc" id="L71">            chargementDescriptionJSON();</span>
        }
<span class="fc" id="L73">        return listeDescription.contains(description);</span>
    }
    /**
     * Cette methode lit la liste des interventions dans le fichier JSON inteverntions.json
     * et en extraire les donnees contenues
     *
     * @return la liste des differents types d'interventions
     */
    public static List&lt;String&gt; chargementDescriptionJSON(){

<span class="fc" id="L83">        List&lt;String&gt; listeDescription = new ArrayList&lt;&gt;();</span>
<span class="fc" id="L84">        try(FileReader lectureFichierJSON = new FileReader(&quot;json/interventions.json&quot;)) {</span>
<span class="fc" id="L85">            JsonArray descriptionJSON = JsonParser.parseReader(lectureFichierJSON).getAsJsonObject().getAsJsonArray(&quot;intervention_policiere&quot;);</span>

            //ajouter arrondissements dans la liste en string
<span class="fc bfc" id="L88" title="All 2 branches covered.">            for (int i = 0; i &lt; descriptionJSON.size(); i++) {</span>
<span class="fc" id="L89">                listeDescription.add(descriptionJSON.get(i).getAsString());</span>
            }
<span class="nc" id="L91">        }catch (IOException e){</span>
<span class="nc" id="L92">            e.printStackTrace(); // gestion et trace des exceptions</span>

<span class="fc" id="L94">        }</span>
<span class="fc" id="L95">        return listeDescription;</span>
    }

    /**
     * Cette methode lit la liste des arrondissements dans le fichiers JSON et en extraire les donnees
     * contenues
     *
     * @return la liste des arrondissements
     */
    public static List&lt;String&gt; chargementArrondissementJSON(){
<span class="fc" id="L105">        List&lt;String&gt; listeArrondissement = new ArrayList&lt;&gt;();</span>

<span class="fc" id="L107">        try(FileReader lectureFichierJSON = new FileReader(&quot;json/arrondissements.json&quot;)) {</span>
<span class="fc" id="L108">            JsonArray arrondissementsJSON = JsonParser.parseReader(lectureFichierJSON).getAsJsonObject().getAsJsonArray(&quot;arrondissements&quot;);</span>

            //ajouter arrondissements dans la liste en string
<span class="fc bfc" id="L111" title="All 2 branches covered.">            for (int i = 0; i &lt; arrondissementsJSON.size(); i++) {</span>
<span class="fc" id="L112">                listeArrondissement.add(arrondissementsJSON.get(i).getAsString());</span>
            }
<span class="nc" id="L114">        }catch (IOException e){</span>
<span class="nc" id="L115">            e.printStackTrace(); // gestion et trace des exceptions</span>

<span class="fc" id="L117">        }</span>
<span class="fc" id="L118">        return listeArrondissement;</span>
    }

    public void setBufferedReaderArrondissement(BufferedReader mockFileReader) {
<span class="fc" id="L122">        this.bufferedReaderArrondissement = mockFileReader;</span>
<span class="fc" id="L123">    }</span>

    public void setBufferedReaderDescription(BufferedReader mockFileReader) {
<span class="fc" id="L126">        this.bufferedReaderDescription = mockFileReader;</span>
<span class="fc" id="L127">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>